/* Book_Search -v 0.0.1 2016-04-16 */ 
angular.module("bookSearch",[]),angular.module("bookSearch").controller("bookListCtrl",["$scope","dataFactory","$timeout",function(a,b,c){function d(){f&&c.cancel(f),a.autoSearch&&(f=c(e,g))}function e(){a.searchStr.length<=3||b.getData(a.searchStr,function(){a.items=b.getItems()})}var f,g=500;a.autoSearch=!0,a.search=function(){a.autoSearch||e()},a.onChangeStr=function(){d()}}]),angular.module("bookSearch").directive("bookItem",["$rootScope",function(a){return{restrict:"A",templateUrl:"templates/bookItem.html",link:function(a,b,c){}}}]),angular.module("bookSearch").directive("dropdown",["$rootScope",function(a){return{restrict:"A",templateUrl:"templates/dropdown.html",link:function(a,b,c){var d=$(b).find(".dropdown");d.on("click","a",function(a){a.preventDefault()})}}}]),angular.module("bookSearch").directive("spinner",["$http","$rootScope",function(a,b){return{link:function(c,d,e){b.spinnerActive=!1,c.isLoading=function(){return a.pendingRequests.length>0},c.$watch(c.isLoading,function(a){b.spinnerActive=a,a?d.addClass("loading"):d.removeClass("loading")})}}}]),angular.module("bookSearch").factory("dataFactory",["$http",function(a){var b={},c=null;return b.getData=function(b,d){a.get("https://www.googleapis.com/books/v1/volumes?q="+b).success(function(a){c=a.items,d()})},b.getItems=function(){return c},b}]);